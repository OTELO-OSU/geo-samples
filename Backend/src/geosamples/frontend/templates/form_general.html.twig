

{
	schema: {

		title: {
			type: 'string',
			title: 'Title',
			required:true

		},
		data: {
			type: 'file',
			title: 'data'

		},

		sample_name: {
			type: 'string',
			title: 'Sample name',
			required:true
			
		},
		description: {
			type: 'textarea',
			title: 'Description'
		},
		language: {
			type: 'string',
			title: 'Language'
		},
		"keywords": {

			"type": "array",
			"minItems":1,
			"items": {
				"properties": {
					"keyword": {
						"type": "string",
						"title": "Keyword",


					}
				}
			}
		},
		"file-creator": {

			"type": "array",
			"minItems":1,
			"required":true,
			"items": {


				"properties": {



					"name": {
						"type": "string",
						"title": "File creator name"


					},
					"first_name": {
						"type": "string",
						"title": "File creator firstname"


					},
					"mail": {
						"type": "email",
						"title": "File creator email"


					}


				}
			}
		},
		"referents": {

			"type": "array",
			"minItems":1,
			"items": {
				"properties": {
					"name_referent": {
						"type": "string",
						"title": "Referent name",


					},
					"first_name_referent": {
						"type": "string",
						"title": "Referent firstname",


					},
					"mail": {
						"type": "email",
						"title": "Email",


					}
				}
			}
		},
		"measurements": {

			"type": "array",
			"minItems":1,
			"items": {
				"properties": {
					"nature": {
						"type": "string",
						"title": "Nature of measurement",


					},
					"abbreviation": {
						"type": "string",
						"title": "abbreviation",


					},
					"unit": {
						"type": "string",
						"title": "unit",


					}
				}
			}
		},

		"institution": {

			"type": "array",
			"minItems":1,
			"items": {
				"properties": {
					"institution": {
						"type": "string",
						"title": "Institution",


					}
				}
			}
		},
		"scientific_fields": {

			"type": "array",
			"minItems":1,
			"items": {
				"properties": {
					"scientific_field": {
						"type": "string",
						"title": "Scientific field",


					}
				}
			}
		},
		{{supplementary_fields_schema}}

	},

	"form": [

		 {
	      "type": "fieldset",
	      "title":"Basic informations",
	      "items": [
	        "title","sample_name","description","language",
	         {
	      "type": "fieldset",
	      "title":"File creators",
	      "items": [
	        {
			"type": "array",
			"items": {
				"type": "section",
				"items": [

					"file-creator[].name",
					"file-creator[].first_name",
					"file-creator[].mail"



				]
			}
		},]}

	      ]
	    },
		
		{
			"key": "data"
			
			
		},
		{
	      "type": "fieldset",
	      "title":"Measurements",
	      "items": [
			{
			"type": "array",
			"items": {
				"type": "section",
				"items": [
					"measurements[].nature",
					"measurements[].abbreviation",
					"measurements[].unit"


				]
			}
		}]
		},
		{
	      "type": "advancedfieldset",
	      "title":"Keywords",
	      "items": [
			{
				"type": "array",
				"items": {
					"type": "section",
					"items": [
						"keywords[].keyword"

					]
				}
			}
		]
	  },
		{
	      "type": "advancedfieldset",
	      "title":"Institutions",
	      "items": [
			{
		
			"type": "array",
			"items": {
				"type": "section",
				"items": [
					"institution[].institution"

				]
			}
		}]
	  

		},
		{
	      "type": "advancedfieldset",
	      "title":"Scientific fields",
	      "items": [
			{
		
		
			"type": "array",
			"items": {
				"type": "section",
				"items": [
					"scientific_fields[].scientific_field"

				]
			}
		}]
		},{
	      "type": "advancedfieldset",
	      "title":"Referents",
	      "items": [
			{
			"type": "array",
			"items": {
				"type": "section",
				"items": [
					"referents[].name_referent",
					"referents[].first_name_referent",
					"referents[].mail"


				]
			}
		}]}
		,
		
		
		{{supplementary_fields_form}}				    


		,{


			type: 'submit',
			title: 'Submit',





		}
	],
	"onSubmit": function (errors, values) {
		if (errors) {
			alert('Check the form for invalid values!');
			return;
		}
		$.post( "upload", {data:values} )
     console.log(values);
 }
}


